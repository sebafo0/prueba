<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Memorice Matemático Completo</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    margin: 0; padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    margin: 20px;
  }
  h1 {
    margin-bottom: 0;
    color: #2c3e50;
  }
  .controls {
    margin-bottom: 15px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  select {
    padding: 5px 10px;
    font-size: 16px;
  }
  #scoreboard, #timer {
    font-size: 20px;
    margin: 0 10px;
    min-width: 120px;
    text-align: center;
  }
  #board {
    width: 640px;
    max-width: 95vw;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 20px;
  }
  .card {
    background: #2980b9;
    color: white;
    height: 110px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 18px;
    user-select: none;
    cursor: pointer;
    box-shadow: 0 4px 7px rgba(0,0,0,0.2);
    transition: background-color 0.3s ease;
  }
  .card.flipped, .card.matched {
    background: #27ae60;
    cursor: default;
  }
  .card.wrong {
    background: #c0392b;
  }
  #explanation {
    max-width: 640px;
    background: #ecf0f1;
    padding: 15px 20px;
    border-radius: 10px;
    color: #2c3e50;
    min-height: 70px;
    font-size: 16px;
  }
  .board-facil .card { background: #3498db; }
  .board-medio .card { background: #e67e22; }
  .board-dificil .card { background: #c0392b; }
  .board-extremo .card { background: #8e44ad; }
</style>
</head>
<body>

<header>
  <h1>Memorice Matemático Completo</h1>
  <div class="controls">
    <label>
      Curso: 
      <select id="curso-select">
        <option value="1medio">1° Medio</option>
        <option value="2medio">2° Medio</option>
        <option value="3medio">3° Medio</option>
        <option value="4medio">4° Medio</option>
      </select>
    </label>
    <label>
      Dificultad:
      <select id="dificultad-select">
        <option value="facil">Fácil</option>
        <option value="medio">Medio</option>
        <option value="dificil">Difícil</option>
        <option value="extremo">Extremo</option>
      </select>
    </label>
    <button id="start-btn">Comenzar</button>
  </div>
  <div>
    <span id="scoreboard">Puntaje: 0</span>
    <span id="timer">Tiempo: 00:00</span>
  </div>
</header>

<main>
  <div id="board" class="board-facil"></div>
  <div id="explanation">Aquí aparecerán las explicaciones cuando falles.</div>
</main>

<script>
  const bancoOperaciones = {
    "1medio": {
      "facil": [
        { pregunta: "7 + 15", respuesta: "22", explicacion: "Suma básica: 7 + 15 = 22" },
        { pregunta: "56 - 29", respuesta: "27", explicacion: "Resta básica: 56 - 29 = 27" },
        { pregunta: "8 × 6", respuesta: "48", explicacion: "Multiplicación simple: 8 × 6 = 48" },
        { pregunta: "72 ÷ 8", respuesta: "9", explicacion: "División simple: 72 ÷ 8 = 9" },
        { pregunta: "5^2", respuesta: "25", explicacion: "Potencia: 5^2 = 25" },
        { pregunta: "Perímetro cuadrado lado 8 cm", respuesta: "32", explicacion: "Perímetro = 4 × lado = 4 × 8 = 32 cm" },
        { pregunta: "2/3 + 1/6", respuesta: "5/6", explicacion: "Suma fracciones: común denominador 6; 4/6 + 1/6 = 5/6" },
        { pregunta: "Convierte 2,5 m a cm", respuesta: "250", explicacion: "1 m = 100 cm; 2.5 m = 250 cm" },
        { pregunta: "Simplifica 12/18", respuesta: "2/3", explicacion: "Dividir numerador y denominador por 6: 12/6=2, 18/6=3" },
        { pregunta: "Resuelve: 3x + 5 = 14", respuesta: "3", explicacion: "3x = 14 - 5 = 9; x = 9/3 = 3" }
      ],
      "medio": [
        { pregunta: "(5 + 3) × 4 - 6", respuesta: "26", explicacion: "Operación: 8 × 4 - 6 = 32 - 6 = 26" },
        { pregunta: "2^3 + 4^2", respuesta: "24", explicacion: "Potencias: 8 + 16 = 24" },
        { pregunta: "Resuelve: 4x - 7 = 13", respuesta: "5", explicacion: "4x = 13 + 7 = 20; x = 20/4 = 5" },
        { pregunta: "Área triángulo base 12 cm y altura 8 cm", respuesta: "48", explicacion: "Área = (base × altura) / 2 = (12×8)/2 = 48 cm²" },
        { pregunta: "5/6 - 2/9", respuesta: "11/18", explicacion: "Común denominador 18: 15/18 - 4/18 = 11/18" },
        { pregunta: "Convierte 3,6 km a metros", respuesta: "3600", explicacion: "1 km = 1000 m; 3.6 km = 3600 m" },
        { pregunta: "Factoriza x² + 5x + 6", respuesta: "(x + 2)(x + 3)", explicacion: "Buscamos dos números que multiplican 6 y suman 5" },
        { pregunta: "Resuelve: (3/4)x = 12", respuesta: "16", explicacion: "x = 12 ÷ (3/4) = 12 × (4/3) = 16" },
        { pregunta: "Encuentra 25% de 240", respuesta: "60", explicacion: "25% = 0.25; 0.25 × 240 = 60" },
        { pregunta: "¿87 es primo o compuesto?", respuesta: "compuesto", explicacion: "87 tiene divisores: 3 × 29 = 87, por tanto es compuesto" }
      ],
      "dificil": [
        { pregunta: "Resuelve: 5(2x - 3) = 4x + 7", respuesta: "4", explicacion: "10x - 15 = 4x + 7 → 6x = 22 → x = 22/6 = 3.67 (aprox 4)" },
        { pregunta: "Velocidad: 180 km en 3 h", respuesta: "60", explicacion: "Velocidad = distancia/tiempo = 180/3 = 60 km/h" },
        { pregunta: "√144 + √81", respuesta: "21", explicacion: "12 + 9 = 21" },
        { pregunta: "Factoriza x² - 9x + 20", respuesta: "(x - 4)(x - 5)", explicacion: "Números que multiplican 20 y suman 9" },
        { pregunta: "Área círculo radio 5 cm (π ≈ 3.14)", respuesta: "78.5", explicacion: "Área = πr² = 3.14 × 25 = 78.5 cm²" },
        { pregunta: "Resuelve: (2x - 5)/3 = 7", respuesta: "13", explicacion: "2x - 5 = 21 → 2x = 26 → x = 13" },
        { pregunta: "Dos números consecutivos suman 51", respuesta: "25 y 26", explicacion: "x + (x+1) = 51 → 2x+1=51 → x=25" },
        { pregunta: "Rectángulo perímetro 48 cm, base 14 cm; altura?", respuesta: "10", explicacion: "Perímetro = 2(base+altura) → 48=2(14+h) → h=10" },
        { pregunta: "3^4 - 2^5", respuesta: "49", explicacion: "81 - 32 = 49" },
        { pregunta: "Ordena: 0.75, 5/8, 0.7", respuesta: "0.7 < 5/8 < 0.75", explicacion: "0.7=0.7, 5/8=0.625, 0.75=0.75" }
      ],
      "extremo": [
        { pregunta: "Resuelve: 2x² - 5x - 3 = 0", respuesta: "3 y -0.5", explicacion: "Fórmula cuadrática" },
        { pregunta: "Auto reduce velocidad de 90 a 54 km/h en 6 s; aceleración?", respuesta: "-1 m/s²", explicacion: "a = Δv / Δt = (15 - 25) / 6 ≈ -1 m/s²" },
        { pregunta: "Hipotenusa triángulo catetos 8 y 15 cm", respuesta: "17", explicacion: "Teorema de Pitágoras: √(8²+15²) = 17" },
        { pregunta: "Volumen cilindro radio 4 cm, altura 10 cm", respuesta: "502.4", explicacion: "V=πr²h=3.14×16×10=502.4 cm³" },
        { pregunta: "Resuelve: (x+2)/4 - (x-1)/3 = 2", respuesta: "10", explicacion: "Resolver la ecuación" },
        { pregunta: "Media y mediana: 5,7,8,10,12,14", respuesta: "Media=9.33, Mediana=9", explicacion: "Calcular promedio y valor medio" },
        { pregunta: "7^x = 343, x=?", respuesta: "3", explicacion: "7³=343" },
        { pregunta: "Capital $50,000 al 8% interés simple por 3 años; ganancias?", respuesta: "$12,000", explicacion: "I = C × r × t" },
        { pregunta: "Pendiente recta pasa por (2,3) y (5,11)", respuesta: "8/3", explicacion: "(11-3)/(5-2) = 8/3" },
        { pregunta: "Resuelve sistema: x + y = 8, 2x - y = 3", respuesta: "x=3, y=5", explicacion: "Sumar y despejar" }
      ]
    },
    "2medio": {
      "facil": [
        { pregunta: "√25", respuesta: "5", explicacion: "La raíz cuadrada de 25 es 5" },
        { pregunta: "3^2", respuesta: "9", explicacion: "3 al cuadrado es 9" },
        { pregunta: "Convierte 1500 m a km", respuesta: "1.5", explicacion: "1500 m son 1.5 km" },
        { pregunta: "Suma: 1/2 + 1/3", respuesta: "5/6", explicacion: "Suma fracciones con común denominador 6" },
        { pregunta: "Convierte 45% a decimal", respuesta: "0.45", explicacion: "45% es 0.45 en decimal" },
        { pregunta: "Área rectángulo base 7 cm y altura 5 cm", respuesta: "35", explicacion: "Área = base × altura = 7 × 5 = 35 cm²" },
        { pregunta: "Simplifica 18/24", respuesta: "3/4", explicacion: "Dividir numerador y denominador por 6" },
        { pregunta: "Resuelve: 2x + 5 = 13", respuesta: "4", explicacion: "2x = 13 - 5 → x = 4" },
        { pregunta: "Factoriza x² - 9", respuesta: "(x - 3)(x + 3)", explicacion: "Diferencia de cuadrados" },
        { pregunta: "Calcula 5% de 200", respuesta: "10", explicacion: "5% de 200 es 10" }
      ],
      "medio": [
        { pregunta: "Calcula log₁₀(1000)", respuesta: "3", explicacion: "log₁₀(1000) = 3 porque 10³ = 1000" },
        { pregunta: "Incrementa 100 en 10%", respuesta: "110", explicacion: "10% de 100 es 10; suma 110" },
        { pregunta: "Calcula sin 45° (aprox)", respuesta: "0.707", explicacion: "sin 45° ≈ 0.707" },
        { pregunta: "Resuelve x² - 5x + 6 = 0", respuesta: "2 y 3", explicacion: "Factoriza (x-2)(x-3)=0" },
        { pregunta: "Convierte 0.75 a fracción", respuesta: "3/4", explicacion: "0.75 es 3/4" },
        { pregunta: "Calcula 2³ + 3²", respuesta: "17", explicacion: "8 + 9 = 17" },
        { pregunta: "Calcula inversa f(x) = 2x + 1", respuesta: "(x-1)/2", explicacion: "Despeja x en y = 2x+1" },
        { pregunta: "Calcula cambio porcentual de 50 a 55", respuesta: "10%", explicacion: "Incremento del 10%" },
        { pregunta: "Calcula razones trigonométricas básicas", respuesta: "Varía según", explicacion: "Definiciones de seno, coseno, tangente" },
        { pregunta: "Ejemplo variable aleatoria finita", respuesta: "Lanzar dado", explicacion: "Valores posibles 1 a 6" }
      ],
      "dificil": [
        { pregunta: "Resuelve sistema:\n2x + y = 7\nx - y = 3", respuesta: "x=4, y=-1", explicacion: "Suma y despeja" },
        { pregunta: "Calcula log(ab)", respuesta: "log a + log b", explicacion: "Propiedad logarítmica" },
        { pregunta: "Calcula log₂16", respuesta: "4", explicacion: "2⁴=16" },
        { pregunta: "Resuelve 3ˣ = 27", respuesta: "3", explicacion: "3³=27" },
        { pregunta: "Simplifica (3x²y)/(6xy²)", respuesta: "x/(2y)", explicacion: "Divide numeradores y denominadores" },
        { pregunta: "Aplica fórmula cuadrática: x² - 4x - 5=0", respuesta: "5 y -1", explicacion: "Despeja con fórmula" },
        { pregunta: "Calcula tan 60° (aprox)", respuesta: "1.732", explicacion: "tan 60° ≈ √3 ≈ 1.732" },
        { pregunta: "Ejemplo variable aleatoria discreta", respuesta: "Número de hijos", explicacion: "Valores enteros" },
        { pregunta: "Calcula interés simple $5000, 5%, 2 años", respuesta: "$500", explicacion: "I = C × r × t" },
        { pregunta: "Convierte 120 min a horas", respuesta: "2", explicacion: "120/60 = 2 horas" }
      ],
      "extremo": [
        { pregunta: "Resuelve exponencial: 2^(x+1) = 16", respuesta: "3", explicacion: "2^(x+1)=2^4 → x+1=4 → x=3" },
        { pregunta: "Demuestra log(a^b) = b log a", respuesta: "Propiedad de logaritmos", explicacion: "Usa definición y propiedades" },
        { pregunta: "Resuelve sistema
